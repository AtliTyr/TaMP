\doxysection{mydb.\+h}
\hypertarget{mydb_8h_source}{}\label{mydb_8h_source}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ MYDB\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ MYDB\_H}}
\DoxyCodeLine{00003\ \textcolor{comment}{//классическая\ реализация}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <QDebug>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <QSqlDatabase>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <QSqlQuery>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <QSqlError>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <QSqlRecord>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <QVariant>}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}};}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_singleton_destroyer_my_d_b}{SingletonDestroyerMyDB}}}
\DoxyCodeLine{00021\ \{}
\DoxyCodeLine{00022\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}\ *\ p\_instance;}
\DoxyCodeLine{00024\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{class_singleton_destroyer_my_d_b_a80073930ca1057b6014c5652dd19882d}{\string~SingletonDestroyerMyDB}}()\ \{\textcolor{keyword}{delete}\ p\_instance;\};}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_singleton_destroyer_my_d_b_a11a71dbcd37df6b4436a16990507c09c}{initialize}}(\mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}\ *\ p)\{p\_instance\ =\ p;\};}
\DoxyCodeLine{00039\ \};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}}
\DoxyCodeLine{00051\ \{}
\DoxyCodeLine{00052\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}\ *\ p\_instance;}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_singleton_destroyer_my_d_b}{SingletonDestroyerMyDB}}\ destroyer;}
\DoxyCodeLine{00055\ \ \ \ \ QSqlDatabase\ db;}
\DoxyCodeLine{00056\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}();}
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}\&\ );}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}\&\ operator\ =\ (\mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}\ \&);}
\DoxyCodeLine{00060\ \ \ \ \ \mbox{\hyperlink{class_singleton_my_d_b}{\string~SingletonMyDB}}();}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_singleton_destroyer_my_d_b}{SingletonDestroyerMyDB}};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_singleton_my_d_b_ab39b9ec6a62a04059b5e845693b94843}{\_init}}();}
\DoxyCodeLine{00070\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}*\ \mbox{\hyperlink{class_singleton_my_d_b_aae4147cb24947f460f92b6d57528925e}{getInstance}}()\{}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!p\_instance)}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ p\_instance\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_singleton_my_d_b}{SingletonMyDB}}();}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ destroyer.\mbox{\hyperlink{class_singleton_destroyer_my_d_b_a11a71dbcd37df6b4436a16990507c09c}{initialize}}(p\_instance);}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ p\_instance-\/>\mbox{\hyperlink{class_singleton_my_d_b_ab39b9ec6a62a04059b5e845693b94843}{\_init}}();}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ p\_instance;}
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_singleton_my_d_b_a17d07d85bc380c32834cc37d43d92168}{isReg}}(QString\ login);}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_singleton_my_d_b_a72c7a1e03e1b13cfd167207a9ce72c94}{isMailAvailable}}(QString\ email);}
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_singleton_my_d_b_a27151caea237365a3cadda5b62c99480}{Register}}(QStringList\ params);}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_singleton_my_d_b_afb3f5c1df9d3a9b8db2a32840abdac36}{Auth}}(QStringList\ params);}
\DoxyCodeLine{00141\ \ \ \ \ QStringList\ \mbox{\hyperlink{class_singleton_my_d_b_a25a393eff0403e38b1c7432969b38df1}{Statistics}}(QStringList\ params);}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_singleton_my_d_b_ae44bda4892a47030e33f4248dcc71be6}{Check}}(QStringList\ params);}
\DoxyCodeLine{00156\ \};}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \textcolor{preprocessor}{\#endif\ MYDB\_H}}

\end{DoxyCode}
